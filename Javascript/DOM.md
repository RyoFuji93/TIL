# DOM(Document Object Model)
ブラウザが読むメインのHTMLファイルのことをJavascriptでは「Document」と呼ぶ。

Javascriptはそれにアクセスするための「Document」というオブジェクトと、特定の状態やメソッドがパッケージ化されたDOM（Document Object Model）というデータ構造を提供している。

DOM は、Web ページ上のすべての HTML ファイルを文書オブジェクト（document）として扱い、
それらの要素（オブジェクト）を木構造で表現することで、プログラムから容易に管理、アクセス、操作、保存できる仕組み。

DOM は、要素のサイズや色を変更することでウェブページの見た目に変化をつける際によく使用される。

- 要素（オブジェクト）を木構造で表現する
⇒ツリーを構成する個々の要素はノード（node）と呼ばれる。

プログラミングAPIであり、
プログラムとブラウザ間でデータのやり取りや転送を行う関数やデータ構造を提供するライブラリ。

### Document
DOMツリー全体を表す根ノード。

documentというグローバル変数には、特定の要素を取得するための getElementById メソッドなどの特殊メソッドやメンバ変数が含まれている。

### Element
DOM ツリー内の任意の要素オブジェクトを表すノード。

CSSセレクタに一致する子要素を検索するquerySelectAll()メソッド、要素のクラスを取得する classList メソッド、マークアップのテキスト内容を変更する innerHTML プロパティなどが含まれています。Element オブジェクトは、HTML 要素または SVG 要素のどちらかに対応する。

- imgタグ

HTMLElement の一種である HTMLMediaElement に属しており、srcで画像ソースにアクセスすることができる。

- createElement

Elementオブジェクト（HTML要素）を作成する。作成した要素はappendで追加する。

### NodeList
要素のリストを表すデータ構造。リスト内の個々の要素は、item(index)関数や[]インデックス演算子を使ってアクセスできる。

またリストを走査したり、forEach()関数のような読み書き関連のメソッドも提供されている。

例えば、Element オブジェクトのquerySelectorAll() 関数は、NodeList を戻り値として返す。

### ページロード時の処理
個別要素のイベントハンドラーは基本的にonloadイベントハンドラーに記述。ページの読み込みが完了したした後に、getElementalByIdなどの要素取得ができるため。

* onloadイベントハンドラー⇒コンテンツ本体とすべての画像がロードされたところで実行

* DOMContentLoadedイベントリスナー⇒コンテンツ本体がロードされたところで実行（＝画像のロードを待たない）

たいがいの処理は画像のロードを待つ必要がないため、画像に関わる処理など無い限り、ページ初期化処理はDOMContentLoadedイベントリスナーで表すのが基本。

### DOM操作の大まかな流れ

①要素・テキストノードを作成  
createXXXメソッド

②ノード同士を組み立てる  
appendChildメソッド

③属性ノードの追加  
create(set)Attribute
