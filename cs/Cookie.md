# Cookie
## まずセッションとは

ウェブアプリケーションの基盤技術であるHTTPDというのは、STATEステートレスなPROプロトコルになっています。

つまり、状態を管理する仕組みがないという性質を持っています。状態というのは、前のリクエストの情報と言い換えると分かりやすいかもしれません。

この課題を克服するのがセッションという概念です。

WEBアプリケーションでは、セッション管理に「COOKIE」という仕組みを使っています。

COOKIEとは、ブラウザに情報を保存しておける機能です。

## Cookieの仕組み

1. サーバーでセッションIDを発行
2. レスポンスのSet-CookieヘッダーにセッションIDを設定
3. ブラウザのCookieにセッションIDが保存される。
4. 以降のリクエストでは、CookieヘッダーにセッションIDが設定される。
5. リクエストヘッダーのCookieに設定されているセッションIDとサーバー内のセッション情報を照合してログイン済みが判定する。

## セッションのセキュリティ要件

1. セッションIDが推測が困難なものにする。
2. セッションIDをURLパラメータに格納しない
3. ログイン成功後にセッションIDを発番しなおす

⇒SpringSecurityでは、上記要件を全て満たしている
