# マイクロサービス
極めて小さいサービスで、１つの役割を実装するサービスのこと。  
独立して動作可能なサービスをAPIを介して実現。
→Restを用いて実装するのが一般的。

## サービス定義の方法は特に決まりはない。
* ユースケース（与信チェックを行う）
* エンティティ（商品・価格）
* 業務単位（受注・売上計上）

# Restとは
クライアントからサーバに実施してほしいことをHTTPプロトコルを用いて依頼する。
* 標準的なHTTPリクエストメソッド（GET/POST/PUT/DELETE）を使用して、APIを実装する。
* JSONを使用してやり取りする。

# HTTPリクエストメソッド
* GET  
IDなどによって、対象のデータもしくはリストを取得する。
* PUT  
IDなどによって対象のデータを置き換える、データを更新する。
* POST  
対象のデータをサーバ上に送信するときに使用し、データを登録する。
* DELETE  
IDなどによって、対象のデータを削除する。

# GETリクエストとPOSTリクエストの違い
|                        | GETリクエスト                                                | POSTリクエスト                                    | 
| ---------------------- | ------------------------------------------------------------ | ------------------------------------------------- | 
| 利用するメソッド       | GET                                                          | POST                                              | 
| パラメータの格納場所   | URL                                                          | メッセージ・ボディ                                | 
| セキュリティ           | 低い（URLが他人に見られる/Webサーバのログに残る）            | 比較的高い（Webサーバのログに残らないことが多い） | 
| パラメータの長さ       | 古いソフトウェアではURLが255文字以内に制限される可能性はあり | 制限なし                                          | 
| パラメータの保存・再現 | しやすい                                                     | しにくい                                          | 
| 副作用が発生しないこと | 期待される                                                   | 期待されない                                      | 

※副作用がない＝同じ要求を何度繰り返しても同じ結果が得られる。

上記の違いを考慮した使い分け
* GETリクエスト

副作用がない処理ではGETリクエストを利用した方がパラメータを保存できるというメリットを活かすことができる。（ブックマークやURLを人に伝えるなど）
* POSTリクエスト

ログイン処理のようにユーザ名やパスワードといった機密情報を送信する必要がある場合や決済処理のように副作用を伴う処理、クエリ文字列に収まりきらない大量の情報を送信する必要がある場合はPOSTメソッドを利用する。

